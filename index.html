<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Rail2ski</title>
		<meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
		<script src="assets/js/jquery/3.3.1/jquery.min.js"></script>
		<link rel="stylesheet" href="assets/css/leaflet/1.3.4/leaflet.css"/>
		<script src="assets/js/leaflet/1.3.4/leaflet.js"></script>
		<script src="assets/js/leaflet.ajax/2.1.0/leaflet.ajax.js"></script>

		<style>
		body {
			padding: 0;
			margin: 0;
        	}
		html, body { width: 100%; height : 100%; }
		#map {height:100%;
	            width: 100%;
        	}
		</style>
</head>
<body>
	<div id="map"></div>
	<script>
		var map = L.map('map').setView([47.4, 11.8], 7);

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery � <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox.light'
		}).addTo(map);


/*Deutschland*/

		var v_strecke_de = L.geoJson
			.ajax("./Streckennetz/DE/Streckennetz_DE.geojson", {
				style: {
					"color": "#01A9DB",
					"weight": 5
				}
			}).addTo(map);

		 var v_ski_de = L.geoJson
			.ajax("./Skigebiete/DE/Skigebiete_DE.geojson", {
				style:
				{
					radius: 8,
					fillColor: "#ff7800",
					color: "#000000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8
				},
				pointToLayer: function (feature, latlng) {
					console.log(latlng);
					return L.circleMarker(latlng);
				}
			}).addTo(map);


		/*Schweiz*/

		var v_strecke_ch = L.geoJson
			.ajax("./Streckennetz/CH/Streckennetz_CH.geojson", {
				style: {
					"color": "#01A9DB",
					"weight": 5
				}
			}).addTo(map);

		var v_ski_ch = L.geoJson
			.ajax("./Skigebiete/CH/Skigebiete_CH.geojson", {
				style:
				{
					radius: 8,
					fillColor: "#ff7800",
					color: "#000000",
					weight: 1,
					opacity: 1,
					fillOpacity: 0.8
				},
				pointToLayer: function (feature, latlng) {
					console.log(latlng);
					return L.circleMarker(latlng);
				}
			}).addTo(map);


			/*Österreich*/
			var v_strecke_at = L.geoJson
				.ajax("./Streckennetz/AT/Streckennetz_AT.geojson", {
					style: {
						"color": "#01A9DB",
						"weight": 5
					}
				}).addTo(map);

			var v_ski_at = L.geoJson
					.ajax("./Skigebiete/AT/Skigebiete_AT.geojson", {
						style:
						{
							radius: 8,
							fillColor: "#ff7800",
							color: "#000000",
							weight: 1,
							opacity: 1,
							fillOpacity: 0.8
						},
						pointToLayer: function (feature, latlng) {
							console.log(latlng);
							return L.circleMarker(latlng);
						}
					}).addTo(map);


			var baseLayers = {

			};


			var overlays = {
				"Streckennetz DE": v_strecke_de,
				"Streckennetz CH" : v_strecke_ch,
				"Streckennetz AT" : v_strecke_at,

			   "Skigebiet DE": v_ski_de,
			   "Skigebiet CH": v_ski_ch,
				 "Skigebiet AT" : v_ski_at
			};

			L.control.layers(baseLayers, overlays).addTo(map);


	</script>


</body>

</html>
